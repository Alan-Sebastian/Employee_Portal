<div class="container mt-4">

  <!-- Header -->
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h3><i class="bi bi-people-fill me-2"></i> Employee List</h3>
    <button class="btn btn-success" (click)="openCreateModal()">
      <i class="bi bi-plus-circle"></i> Create New Employee
    </button>
  </div>
  <app-employee-modal  #employeeModalRef [employee]="selectedEmployee" (saveEmployee)="addEmployee($event)"></app-employee-modal>

  <!-- Filter Section -->
  <div class="card mb-4">
    <div class="card-header bg-primary text-white">
      <i class="bi bi-funnel-fill me-2"></i> Filter Employees
      <span class="badge bg-light text-dark float-end">
        Total Employees: {{ employees.length }}
      </span>
    </div>
    <div class="card-body row g-3 align-items-end">
  <div class="col-md-3">
    <label class="form-label">Search by Name</label>
    <input type="text" [(ngModel)]="filters.name" (ngModelChange)="applyFilters()" class="form-control" placeholder="Type a name...">
  </div>
  <div class="col-md-3">
    <label class="form-label">Department</label>
    <select [(ngModel)]="filters.department" (ngModelChange)="applyFilters()" class="form-select">
      <option value="">All Departments</option>
      <option *ngFor="let dept of departments" [value]="dept">{{ dept }}</option>
    </select>
  </div>
  <div class="col-md-3">
    <label class="form-label">Employee Type</label>
    <select [(ngModel)]="filters.type" (ngModelChange)="applyFilters()" class="form-select">
      <option value="">All Employee Types</option>
      <option *ngFor="let type of employeeTypes" [value]="type">{{ type }}</option>
    </select>
  </div>
  <div class="col-md-2">
    <label class="form-label">Items per Page</label>
    <select [(ngModel)]="filters.itemsPerPage" (ngModelChange)="applyFilters()" class="form-select">
      <option *ngFor="let num of [5, 10, 25, 50]" [value]="num">{{ num }}</option>
    </select>
  </div>
</div>


  <!-- Employee Table -->
  <div class="card">
    <div class="card-header bg-primary text-white">
      <i class="bi bi-table me-2"></i> Employee Records
    </div>
    <div class="table-responsive">
      <table class="table table-bordered table-hover mb-0">
        <thead class="table-primary">
          <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Position</th>
            <th>Department</th>
            <th>Hire Date</th>
            <th>Gender</th>
            <th>Employee Type</th>
            <th>Dob</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let emp of filteredEmployees">
            <td>{{ emp.fullName }}</td>
            <td>{{ emp.email }}</td>
            <td>{{ emp.position }}</td>
            <td>{{ emp.department }}</td>
            <td>{{emp.hireDate | date: 'yyyy-MM-dd'}}</td>
            <td>{{ emp.gender }}</td>
            <td>{{ emp.employeeType }}</td>
            <td>{{emp.dob| date: 'yyyy-MM-dd'}}</td>
            <td>
              <button class="btn btn-info btn-sm me-1"><i class="bi bi-eye"></i></button>
              <button class="btn btn-warning btn-sm me-1" (click)="openEditModal(emp)"><i class="bi bi-pencil"></i></button>
              <button class="btn btn-danger btn-sm" (click)="onDeleteEmployee(emp)"><i class="bi bi-trash"></i></button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Pagination -->
  <nav class="mt-3">
    <ul class="pagination justify-content-center">
      <li class="page-item"><a class="page-link" (click)="previousPage()">Previous</a></li>
      <li class="page-item active"><a class="page-link">{{this.currentPage}}</a></li>
      <li class="page-item"><a class="page-link" (click)="nextPage()">Next</a></li>
    </ul>
  </nav>

</div>
